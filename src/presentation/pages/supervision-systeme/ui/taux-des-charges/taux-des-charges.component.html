<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <app-breadcrumb
                [title]="'Supervision système'"
                [active_item]="'Taux des charges'"
            ></app-breadcrumb>
            <div class="card">
                <div class="card-body">
                    <div>
                        <div class="table_actions_wrapper">
                            <button
                                pButton
                                pRipple
                                label="Exporter"
                                icon="pi pi-download"
                                class="p-button-helf"
                            ></button>
                        </div>
                        <div class="table_content_wrapper">
                            <p-table
                                #dt
                                [value]="listeTaux"
                                [rows]="10"
                                [paginator]="true"
                                responsiveLayout="scroll"
                                [rowHover]="true"
                                dataKey="id"
                                currentPageReportTemplate="Affichage de {first} à {last} des {totalRecords}
                    données"
                                [showCurrentPageReport]="true"
                            >
                                <ng-template pTemplate="caption">
                                    <div class="table_header">
                                        <div class="table_header__legende">
                                            <h4>
                                                <b>Liste des clusteurs</b>
                                            </h4>
                                        </div>
                                        <div class="table_header__input">
                                            <span
                                                class="p-input-icon-left ml-auto"
                                            >
                                                <i class="pi pi-search"></i>
                                                <input
                                                    pInputText
                                                    type="text"
                                                    (input)="
                                                        dt1.filterGlobal(
                                                            $event.target.value,
                                                            'contains'
                                                        )
                                                    "
                                                    placeholder="Recherche"
                                                />
                                            </span>
                                        </div>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="header">
                                    <tr>
                                        <th>ID</th>
                                        <th>Nom</th>
                                        <th>Description du clester</th>
                                        <th [ngStyle]="{ width: '3rem' }">
                                            Actions
                                        </th>
                                    </tr>
                                </ng-template>
                                <ng-template
                                    let-i="rowIndex"
                                    pTemplate="body"
                                    let-data
                                >
                                    <tr>
                                        <td>{{ data?.id }}</td>
                                        <td>{{ data?.nom }}</td>
                                        <td>{{ data?.description }}</td>
                                        <td>
                                            <button
                                                pButton
                                                pRipple
                                                type="button"
                                                label="Visualiser"
                                                icon="pi pi-chart-line"
                                                (click)="
                                                    visualiser(
                                                        taux.url,
                                                        taux.nom
                                                    )
                                                "
                                            ></button>
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
