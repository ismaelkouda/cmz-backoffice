<div
    class="facture-component shadow-lg bg-white border-1 border-gray-300"
    style="
        padding: 1rem 4rem;
        width: 70%;
        margin-left: auto;
        margin-right: auto;
    "
>
    <div style="display: flex; gap: 2rem; justify-content: end">
        <button
            class="p-button p-component p-button-info p-button-md"
            type="button"
            aria-label="Export"
        >
            <span
                class="fas fa-file-excel p-button-icon p-button-icon-left"
            ></span
            ><span class="p-button-label">Export</span>
        </button>
        <button
            class="p-button p-component p-button-danger"
            type="button"
            aria-label="Fermer"
        >
            <span class="p-button-label" (click)="close()">Fermer</span>
        </button>
    </div>
    <div class="flex-auto p-6 p-0" id="testHtml" style="letter-spacing: 0.2px">
        <div
            style="
                display: flex;
                justify-content: space-between;
                flex-wrap: wrap;
                padding-top: 2rem;
            "
        >
            <div>
                <img
                    src="assets/images/logo/logo-small.jpg"
                    width="100"
                    height="150"
                />
            </div>
            <div>
                <p style="color: #e6e6e6; font-weight: bold">
                    <span
                        >Service Clients Grand Public : 0707/(225)
                        2721230707</span
                    ><br />
                    <span
                        >Service Clients Entreprises : 0808 / (225)
                        2721230808</span
                    ><br />
                    <span>E-mail : orangebusiness.oci@orange.com</span><br />
                </p>
                <p style="color: #000000; font-weight: bold">
                    <span>{{ tenant?.nom_tenant }}</span
                    ><br />
                    <span>{{ tenant?.email_gestionnnaire }}</span
                    ><br />
                    <span>25 BP 622 ABJ 25 ABIDJAN</span>
                </p>
            </div>
        </div>
        <!------------------------LIST-------------ORDER------------------------------------->
        <div class="recap-wrapper">
            <div class="legende">Bonjour</div>
            <div class="blocks">
                <div class="personal-block">
                    <span
                        >Facture Instantanée de Service: Du
                        {{ currentDate }}</span
                    ><br />
                    <span>N° Facture : 0005897522062023 </span><br />
                    <span>N° Transaction : 0005897522062023 </span><br />
                </div>
                <div
                    class="company-block"
                    style="color: #000000; font-weight: bold"
                >
                    <span>{{ tenant?.nom_tenant }}</span
                    ><br />
                    <span>{{ tenant?.email_gestionnnaire }}</span
                    ><br />
                    <span>25 BP 622 ABJ 25 ABIDJAN</span>
                </div>
            </div>
            <div class="resume-table">
                <table style="width: 100%">
                    <tr>
                        <th>Produit</th>
                        <th>Désignation</th>
                        <th class="text-center">Quantité</th>
                        <th class="text-end">Montant HT</th>
                    </tr>
                    <tr *ngFor="let item of currentObjectTwo">
                        <td>{{ item?.code_produit }}</td>
                        <td>{{ item?.libelle_produit }}</td>
                        <td class="text-center">
                            {{ item?.qte !== null ? item?.qte : '0' }}
                        </td>
                        <td class="text-end">
                            {{ pipeValue(item?.prix_unitaire * item?.qte) }}
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <!-----------------------------RECAP------------------------------------------->
    <div>
        <div class="legende">Récapitulatif</div>
        <div
            style="
                display: flex;
                justify-content: space-between;
                background-color: #d8d8d8;
                padding: 1rem;
                margin-top: 1rem;
            "
        >
            <div>
                <p style="color: #000000; font-weight: bold">
                    <span
                        >Facture Instantanée de Service: Du
                        {{ currentDate }}</span
                    ><br />
                    <span>N° Facture : 0005897522062023 </span><br />
                    <span>N° Transaction : 0005897522062023 </span><br />
                </p>
            </div>
            <div
                style="
                    display: flex;
                    justify-content: center;
                    flex-direction: column;
                "
            >
                <span style="color: #ff8000"
                    >Date limite de paiement : {{ delayDate }}</span
                >
            </div>
        </div>
        <div
            style="
                display: flex;
                justify-content: space-between;
                background-color: #d8d8d8;
                padding: 1rem;
                margin-top: 1.3rem;
            "
        >
            <div>
                <p style="color: #ff8000; font-weight: bold">
                    <span>Total HT </span><br />
                    <span>TVA 18 %</span><br />
                </p>
            </div>
            <div>
                <p style="color: #ff8000; font-weight: bold">
                    <span>{{ pipeValue(montantHt) }}</span
                    ><br />
                    <span>{{ pipeValue(montantTva) }}</span
                    ><br />
                </p>
            </div>
        </div>
        <div
            style="
                display: flex;
                justify-content: space-between;
                background-color: #d8d8d8;
                padding: 0.5rem;
                margin-top: 0.1rem;
            "
        >
            <div><span>Montant total à régler en FCFA:</span><br /></div>
            <div>
                <span style="font-weight: 900">{{
                    pipeValue(this.montantTtc)
                }}</span>
            </div>
        </div>
    </div>
    <div
        style="
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
        "
    >
        <button class="p-button p-component p-button-danger" (click)="close()">
            Annuler
        </button>
        <button
            class="p-button p-component p-button-success"
            (click)="OnValidate()"
        >
            Valider
        </button>
    </div>
</div>
