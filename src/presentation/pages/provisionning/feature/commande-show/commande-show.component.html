<div class="modal-content">
  <div class="modal-header" style="background-color:#569c5b;color:#fff;cursor: all-scroll;padding: 0.2rem 1rem;">
    <h4 class="modal-title pl-3">
      Détails <strong>[{{transaction?.transaction}}]</strong>
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="handleCloseModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <!--------------------MODAL----------BODY---------->
      <div>
        <div *ngIf="this.transaction.statut === 'cloturé' || this.transaction.traitement === 'accepté'"
          class="style-infos-traitement">
          <strong>Message Traitement : {{detailTransaction?.rapport?.notation_description ?? 'N/A'}}</strong>
        </div>
        <div class="row">
          <h4 *ngIf="detailTransaction?.rapport" class="col-md-7 wrapper-header">
            <strong>{{ formatTitleOuvrage(detailTransaction?.operation) }}
              <span style="color:#549B3D;font-weight: bold;">
                <span *ngIf="IsContentSim()"> 
                   {{detailTransaction?.niveau_uns_code}} |
                  {{detailTransaction?.niveau_deux_nom}} [{{detailTransaction?.niveau_deux_code}}] -
                  [{{detailTransaction?.msisdn}}]
                </span>&nbsp;
                <span *ngIf="IsProvisionningTransaction()"> 
                  {{detailTransaction?.reference}} [{{detailTransaction?.rapport?.code}}]
                </span>&nbsp;
                <span *ngIf="IsAchatTransaction()"> 
                  {{detailTransaction?.numero_commande}} [{{detailTransaction?.rapport?.code}}]
                </span>&nbsp;
                <span
                  *ngIf="detailTransaction?.rapport?.identifiant">[{{detailTransaction?.rapport?.identifiant}}]</span>
              </span>
            </strong>
          </h4>
          <div class="col-md-5" style="display: flex; justify-content: end; font-size: 20px;">Date de
            creation:&nbsp;<b><span>{{transaction?.created_at}}</span></b></div>
        </div>
        <hr style="position: relative;top: -0.2rem;margin-top: -0.4rem;">
        <!-------------COMMANDE--------------FORMS--------------------------->
        <div *ngIf="transaction?.operation === OperationAchat">
          <div [hidden]="filterTab !== 'first-item'">
            <fieldset>
              <legend>
                <strong>Information de Transaction</strong>
              </legend>
              <div>
                <table [ngClass]="'table-natif'">
                  <thead>
                    <th>Code Produit</th>
                    <th>Description</th>
                    <th>Prix Unitaire (Fcfa)</th>
                    <th>Quantité</th>
                    <th>Montant (Fcfa)</th>
                  </thead>
                  <tr *ngFor="let prod of detailTransaction?.detail_commande;let i = index">
                    <td>
                      <div class="produit-picture">
                        <img src="assets/images/unboxing.png" style="height: 1.8rem" alt="">
                      </div>
                      <div class="produit-code">{{prod.code_produit}}</div>
                    </td>
                    <td>
                      <span class="produit-code">{{prod.nom_produit}}</span>
                    </td>
                    <td>
                      <div class="produit-prix">{{pipeValue(prod.montant_ht)}}</div>
                    </td>
                    <td>
                      <div class="produit-prix">{{prod.quantite}}</div>
                    </td>
                    <td>
                      <div class="produit-prix">{{pipeValue(prod.montant_ht*prod.quantite)}}</div>
                    </td>
                  </tr>
                </table>
              </div>
            </fieldset>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>