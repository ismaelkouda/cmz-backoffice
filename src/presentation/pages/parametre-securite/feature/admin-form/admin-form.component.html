<div>
  <div class="forms-feature-header">
      <div>
          <h4>
              <b *ngIf="currentObject === undefined">
                  <span>Formulaire d'ajout Utilisateur</span>
              </b>
              <b *ngIf="currentObject !== undefined && !currentObject?.show">
                  <span>Modification d'utilisateur</span>
                  <span class="current_values">[{{currentObject?.nom}} {{currentObject?.prenoms}}]</span>
              </b>
              <b *ngIf="currentObject?.show">
                  <span>Visualisation d'utilisateur</span>
                  <span class="current_values">[{{currentObject?.nom}} {{currentObject?.prenoms}}]</span>
              </b>
          </h4>
      </div>
      <div class="forms-feature-header__button" [ngStyle]="{display: 'flex',gap: '1rem'}">
          <div *ngIf="!currentObject?.show">
              <p-button label="Enregistrer" [label]="currentObject === undefined ? 'Enregistrer': 'Modifier'"
                  [disabled]="!adminForm.valid" styleClass="p-button-success"
                  (click)="!currentObject ? handleSave() : handleUpdate()"></p-button>
          </div>
          <div>
              <p-button label="Fermer" styleClass="p-button-danger" (click)="close()"></p-button>
          </div>
      </div>
  </div>
  <hr *ngIf="!currentObject?.show">
  <!--------------------------FORMS-------------------------->
  <div *ngIf="!currentObject?.show" style="margin-top: 3rem;">
      <div [formGroup]="adminForm" novalidate>
          <fieldset>
              <legend [ngStyle]="{width: '13rem'}">
                  <b>Informations Utilisateur</b>
              </legend>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                      <label>
                          <b>Nom<span class="text-danger">*</span></b>
                      </label>
                      <input type="text" formControlName="nom" pInputText />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                      <label>
                          <b>Prénoms<span class="text-danger">*</span></b>
                      </label>
                      <input type="text" formControlName="prenoms" pInputText />
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                      <label>
                          <b>Email<span class="text-danger">*</span></b>
                      </label>
                      <input type="text" formControlName="email" pInputText />
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group">
                      <label>
                          <b>Contacts</b>
                      </label>
                      <input type="text" formControlName="contacts" pInputText />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group">
                    <label>
                      <b>Profil</b>
                    </label>
                    <p-dropdown [options]="listProfils" optionLabel="nom" [showClear]="true" [filter]="true" filterBy="nom" formControlName="profil_user_id" optionValue="id" [placeholder]="'profil'">
                      <ng-template let-data pTemplate="item">
                        <div class="country-item">
                          <div>
                            {{data.nom}}
                          </div>
                        </div>
                      </ng-template>
                    </p-dropdown>
                  </div>
                </div>
              </div>
          </fieldset>
      </div>
      <div class="forms-feature-footer">
          <p-button label="Enregistrer" [label]="currentObject === undefined ? 'Enregistrer': 'Modifier'"
              [disabled]="!adminForm.valid" styleClass="p-button-success"
              (click)="!currentObject ? handleSave() : handleUpdate()"></p-button>
      </div>
  </div>
  <div *ngIf="currentObject?.show">
      <p-tabView>
          <p-tabPanel header="IDENTIFICATION">
            <div [formGroup]="adminForm" novalidate>
              <fieldset>
                  <legend [ngStyle]="{width: '13rem'}">
                      <b>Informations Utilisateur</b>
                  </legend>
                  <div class="row">
                    <div class="col-md-4">
                      <div class="form-group">
                          <label>
                              <b>Nom<span class="text-danger">*</span></b>
                          </label>
                          <input type="text" formControlName="nom" pInputText />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                          <label>
                              <b>Prénoms<span class="text-danger">*</span></b>
                          </label>
                          <input type="text" formControlName="prenoms" pInputText />
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                          <label>
                              <b>Email<span class="text-danger">*</span></b>
                          </label>
                          <input type="text" formControlName="email" pInputText />
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                          <label>
                              <b>Contacts</b>
                          </label>
                          <input type="text" formControlName="contacts" pInputText />
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>
                          <b>Profil</b>
                        </label>
                        <p-dropdown [options]="listProfils" optionLabel="nom" [showClear]="true" [filter]="true" filterBy="nom" formControlName="profil_user_id" optionValue="id" [placeholder]="'profil'">
                          <ng-template let-data pTemplate="item">
                            <div class="country-item">
                              <div>
                                {{data.nom}}
                              </div>
                            </div>
                          </ng-template>
                        </p-dropdown>
                      </div>
                    </div>
                  </div>
              </fieldset>
          </div>
          </p-tabPanel>
          <p-tabPanel header="HISTORIQUE">
            <!-- <app-historique [modele]="''" [modele_id]="currentObject.id">
            </app-historique> -->
          </p-tabPanel>
      </p-tabView>
  </div>
</div>