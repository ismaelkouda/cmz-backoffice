<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <app-breadcrumb
                [title]="module"
                [active_item]="subModule"
            ></app-breadcrumb>
            <div class="card">
                <div class="card-body">
                    <div [hidden]="!initialView">
                        <form
                            [formGroup]="formFilter"
                            (ngSubmit)="onSubmitFilterForm()"
                        >
                            <div class="row filter_wrapper">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label
                                            ><b>{{
                                                firstLevelLibelle
                                            }}</b></label
                                        >
                                        <p-dropdown
                                            [options]="listFirstLeveDatas"
                                            optionLabel="fullName"
                                            (onChange)="
                                                onChangeFirstLvel($event.value)
                                            "
                                            [showClear]="true"
                                            [filter]="true"
                                            filterBy="fullName"
                                            [placeholder]="firstLevelLibelle"
                                            optionValue="uuid"
                                            formControlName="niveau_un_uuid"
                                            [ngStyle]="{ width: '100%' }"
                                        >
                                        </p-dropdown>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label
                                            ><b>{{
                                                secondLevelLibelle
                                            }}</b></label
                                        >
                                        <p-dropdown
                                            [options]="listSecondLevelDatas"
                                            optionLabel="fullName"
                                            [filter]="true"
                                            [showClear]="true"
                                            formControlName="niveau_deux_uuid"
                                            [placeholder]="firstLevelLibelle"
                                            optionValue="uuid"
                                            [ngStyle]="{ width: '100%' }"
                                        >
                                        </p-dropdown>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label>
                                            <b>Zone Trafic</b>
                                        </label>
                                        <input
                                            placeholder="zone"
                                            formControlName="zone_traffic"
                                            type="text"
                                            pInputText
                                        />
                                    </div>
                                </div>
                                <div [ngStyle]="{ width: 'auto' }">
                                    <label [ngStyle]="{ opacity: '0' }"
                                        >Actions</label
                                    >
                                    <br />
                                    <p-button
                                        styleClass="p-button-success"
                                        icon="pi pi-filter"
                                        type="submit"
                                    ></p-button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <p-dialog
        [(visible)]="display"
        position="bottom-right"
        (onHide)="handleClose()"
        [style]="{ width: '100%' }"
        (onMaximize)="onDialogMaximized($event)"
        [modal]="true"
        [responsive]="true"
        [maximizable]="true"
        [draggable]="false"
        [resizable]="false"
    >
        <ng-template pTemplate="header">
            <h3>
                <b [style]="{ color: '#FFFFFF' }">Cartographie</b>
            </h3>
        </ng-template>
        <ng-template pTemplate="content" class="mt-4">
            <div class="mt-4">
                <app-carte
                    [maxi]="maxi"
                    [datas]="datas"
                    [display]="display"
                ></app-carte>
            </div>
        </ng-template>
    </p-dialog>
</div>
