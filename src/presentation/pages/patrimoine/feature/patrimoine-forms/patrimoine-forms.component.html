<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>
                    {{
                        currentData?.show
                            ? 'Visualisation de la SIM '
                            : 'Mise à jour des infos de la SIM '
                    }}
                    <span style="color: #ff6600"
                        >[{{ currentObject?.msisdn }}]</span
                    >
                </h2>
                <div>
                    <p-button
                        *ngIf="!currentData?.show"
                        [label]="
                            currentObject === undefined
                                ? 'Enregistrer'
                                : 'Modifier'
                        "
                        [disabled]="!adminForm.valid"
                        styleClass="p-button-success mr-2"
                        (click)="handleUpdateCampagne()"
                    ></p-button
                    >&nbsp;

                    <p-button
                        label="Fermer"
                        styleClass="p-button-danger"
                        (click)="close()"
                    ></p-button>
                </div>
            </div>

            <hr *ngIf="!currentData?.show" />

            <div *ngIf="!currentData?.show">
                <p-tabView
                    (onChange)="currentTabsIndex = $event.index"
                    styleClass="w-100"
                >
                    <p-tabPanel header="IDENTIFICATION">
                        <div>
                            <form [formGroup]="adminForm" novalidate>
                                <fieldset>
                                    <legend>
                                        <b
                                            >Informations
                                            Utilisateur/Bénéficiaire</b
                                        >
                                    </legend>
                                    <div class="row">
                                        <div class="col-md">
                                            <label
                                                ><b
                                                    >Type de personne<span
                                                        class="text-danger"
                                                        >*</span
                                                    ></b
                                                ></label
                                            >
                                            <p-dropdown
                                                [options]="listeTypePersonne"
                                                [showClear]="true"
                                                formControlName="type_personne"
                                                placeholder="Type de personne"
                                            >
                                            </p-dropdown>
                                        </div>
                                        <ng-container
                                            *ngIf="
                                                displayPhysiquePersonne === true
                                            "
                                        >
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label
                                                        ><b
                                                            >Nom<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        ></label
                                                    >
                                                    <input
                                                        type="text"
                                                        formControlName="nom"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label
                                                        ><b
                                                            >Prénoms<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        ></label
                                                    >
                                                    <input
                                                        type="text"
                                                        formControlName="prenoms"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>

                                            <div class="col-md">
                                                <label
                                                    ><b
                                                        >Nature de la pièce<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    ></label
                                                >
                                                <p-dropdown
                                                    [options]="listeNaturePiece"
                                                    [showClear]="true"
                                                    formControlName="nature_piece"
                                                    placeholder="Nature de la pièce"
                                                >
                                                </p-dropdown>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label>
                                                        <b
                                                            >Numéro de la
                                                            pièce<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        >
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="numero_piece"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                        </ng-container>
                                        <ng-container
                                            *ngIf="
                                                displayPhysiquePersonne ===
                                                false
                                            "
                                        >
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label
                                                        ><b
                                                            >Denomination<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        ></label
                                                    >
                                                    <input
                                                        type="text"
                                                        formControlName="nom"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label
                                                        ><b
                                                            >Raison social<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        ></label
                                                    >
                                                    <input
                                                        type="text"
                                                        formControlName="prenoms"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md">
                                                <label
                                                    ><b
                                                        >Nature du document<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    ></label
                                                >
                                                <p-dropdown
                                                    [options]="
                                                        listeNatureDocument
                                                    "
                                                    [showClear]="true"
                                                    formControlName="nature_piece"
                                                    placeholder="Nature du document"
                                                >
                                                </p-dropdown>
                                            </div>
                                            <div class="col-md">
                                                <div class="form-group">
                                                    <label
                                                        ><b
                                                            >Numéro du
                                                            document<span
                                                                class="text-danger"
                                                                >*</span
                                                            ></b
                                                        ></label
                                                    >
                                                    <input
                                                        type="text"
                                                        formControlName="numero_piece"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <legend>Informations SIM</legend>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label><b>IMSI</b></label>
                                                <input
                                                    type="text"
                                                    formControlName="imsi"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label><b>MSISDN</b></label>
                                                <input
                                                    type="text"
                                                    formControlName="msisdn"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label><b>Formule</b></label>
                                                <input
                                                    type="text"
                                                    formControlName="formule"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label
                                                    ><b
                                                        >Statut Contrat</b
                                                    ></label
                                                >
                                                <app-statut-contrat
                                                    [statut]="
                                                        currentObject?.statut
                                                    "
                                                ></app-statut-contrat>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <legend>Informations Localisation</legend>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >{{ firstLevelLibelle
                                                        }}<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <p-dropdown
                                                    [options]="
                                                        listDirectionRegionales
                                                    "
                                                    formControlName="niveau_un_uuid"
                                                    optionLabel="nom"
                                                    optionValue="uuid"
                                                    [placeholder]="
                                                        firstLevelLibelle
                                                    "
                                                >
                                                    <ng-template
                                                        let-data
                                                        pTemplate="item"
                                                    >
                                                        <div
                                                            class="country-item"
                                                        >
                                                            <div>
                                                                {{ data.nom }}
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >{{ secondLevelLibelle
                                                        }}<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <p-dropdown
                                                    [options]="
                                                        listExploitations
                                                    "
                                                    formControlName="niveau_deux_uuid"
                                                    optionLabel="nom"
                                                    optionValue="uuid"
                                                    [placeholder]="
                                                        secondLevelLibelle
                                                    "
                                                >
                                                    <ng-template
                                                        let-data
                                                        pTemplate="item"
                                                    >
                                                        <div
                                                            class="country-item"
                                                        >
                                                            <div>
                                                                {{ data.nom }}
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >{{ thirdLevelLibelle
                                                        }}<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <p-dropdown
                                                    [options]="listActivites"
                                                    formControlName="niveau_trois_uuid"
                                                    optionLabel="nom"
                                                    optionValue="uuid"
                                                    [placeholder]="
                                                        thirdLevelLibelle
                                                    "
                                                >
                                                    <ng-template
                                                        let-data
                                                        pTemplate="item"
                                                    >
                                                        <div
                                                            class="country-item"
                                                        >
                                                            <div>
                                                                {{ data.nom }}
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-dropdown>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b>Nom Emplacement</b>
                                                </label>
                                                <input
                                                    type="text"
                                                    formControlName="point_emplacement"
                                                    pInputText
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >Usage<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <p-dropdown
                                                    [options]="listUsage"
                                                    formControlName="usage_id"
                                                    optionLabel="nom_usage"
                                                    optionValue="id"
                                                >
                                                    <ng-template
                                                        let-data
                                                        pTemplate="item"
                                                    >
                                                        <div
                                                            class="country-item"
                                                        >
                                                            <div>
                                                                {{
                                                                    data.nom_usage
                                                                }}
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-dropdown>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >Adresse mail
                                                        Notification<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <input
                                                    type="text"
                                                    formControlName="adresse_email"
                                                    pInputText
                                                />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b
                                                        >Adresse
                                                        géographique<span
                                                            class="text-danger"
                                                            >*</span
                                                        ></b
                                                    >
                                                </label>
                                                <input
                                                    type="text"
                                                    formControlName="adresse_geographique"
                                                    pInputText
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b>Latitude</b>
                                                </label>
                                                <input
                                                    type="text"
                                                    formControlName="latitude"
                                                    pInputText
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label>
                                                    <b>Longitude</b>
                                                </label>
                                                <input
                                                    type="text"
                                                    formControlName="longitude"
                                                    pInputText
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <legend>Informations Réseau</legend>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label
                                                    ><b>Date Trafic</b></label
                                                >
                                                <input
                                                    type="text"
                                                    formControlName="date_trafic"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label><b>APN</b></label>
                                                <input
                                                    type="text"
                                                    formControlName="apn"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label><b>Adresse IP</b></label>
                                                <input
                                                    type="text"
                                                    formControlName="adresse_ip"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label
                                                    ><b>Site Trafic</b></label
                                                >
                                                <input
                                                    type="text"
                                                    formControlName="site_reseau"
                                                    pInputText
                                                    class="w-100"
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </form>
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="PHOTOS">
                        <div>
                            <fieldset>
                                <legend><b>Pièces-Photos</b></legend>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <div class="card">
                                                <p-fileUpload
                                                    name="myfile[]"
                                                    [showCancelButton]="false"
                                                    url="https://www.primefaces.org/cdn/api/upload.php"
                                                    [multiple]="false"
                                                    accept="image/*"
                                                    maxFileSize="1000000"
                                                    (onSelect)="
                                                        onSelectedFiles(
                                                            $event,
                                                            'physique'
                                                        )
                                                    "
                                                    [showUploadButton]="false"
                                                    chooseLabel="Choisir photo physique"
                                                >
                                                    <ng-template
                                                        pTemplate="header"
                                                        let-filesPhysique
                                                        let-chooseCallback="chooseCallback"
                                                    >
                                                        <div
                                                            class="flex flex-wrap justify-content-between align-items-center flex-1 gap-2"
                                                        >
                                                            <p-progressBar
                                                                [value]="
                                                                    totalSizePercent
                                                                "
                                                                [showValue]="
                                                                    false
                                                                "
                                                                styleClass="md:w-20rem h-1rem w-full md:ml-auto"
                                                                [ngClass]="{
                                                                    'exceeded-progress-bar':
                                                                        totalSizePercent >
                                                                        100
                                                                }"
                                                            >
                                                                <span
                                                                    class="white-space-nowrap"
                                                                    >{{
                                                                        totalSize
                                                                    }}B /
                                                                    1Mb</span
                                                                >
                                                            </p-progressBar>
                                                        </div>
                                                    </ng-template>
                                                    <ng-template
                                                        #photoPhysique
                                                        pTemplate="content"
                                                        let-filesPhysique
                                                        let-chooseCallback="chooseCallback"
                                                        let-removeFileCallback="removeFileCallback"
                                                    >
                                                        <div
                                                            *ngIf="
                                                                filesPhysique?.length >
                                                                0
                                                            "
                                                        >
                                                            <div
                                                                *ngFor="
                                                                    let file of filesPhysique;
                                                                    let i = index
                                                                "
                                                            >
                                                                <img
                                                                    role="presentation"
                                                                    [alt]="
                                                                        file.name
                                                                    "
                                                                    class="img-fluid"
                                                                    [src]="
                                                                        file.objectURL
                                                                    "
                                                                    style="
                                                                        position: relative;
                                                                    "
                                                                />

                                                                <button
                                                                    icon="pi pi-trash"
                                                                    class="p-button-danger buttonDeleteFileUpload"
                                                                    pButton
                                                                    pRipple
                                                                    style="
                                                                        position: absolute;
                                                                        right: 15px;
                                                                        border: none;
                                                                        padding: 10px
                                                                            10px;
                                                                        font-size: large;
                                                                    "
                                                                    (click)="
                                                                        onRemoveTemplatingFile(
                                                                            $event,
                                                                            file,
                                                                            removeFileCallback,
                                                                            i,
                                                                            'physique'
                                                                        )
                                                                    "
                                                                    [outlined]="
                                                                        true
                                                                    "
                                                                    [rounded]="
                                                                        true
                                                                    "
                                                                    pTooltip="Supprimer"
                                                                    tooltipPosition="top"
                                                                ></button>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                    <ng-container
                                                        class="mt-2"
                                                        *ngIf="
                                                            currentData?.photo_physique;
                                                            else photoPhysique
                                                        "
                                                    >
                                                        <p-image
                                                            [src]="
                                                                minioUrl +
                                                                currentData?.photo_physique
                                                            "
                                                            style="width: 100%"
                                                            [preview]="true"
                                                        ></p-image>
                                                    </ng-container>
                                                </p-fileUpload>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <div class="card">
                                                <p-fileUpload
                                                    name="myfile[]"
                                                    [showCancelButton]="false"
                                                    url="https://www.primefaces.org/cdn/api/upload.php"
                                                    [multiple]="false"
                                                    accept="image/*"
                                                    maxFileSize="1000000"
                                                    (onSelect)="
                                                        onSelectedFiles(
                                                            $event,
                                                            'recto'
                                                        )
                                                    "
                                                    [showUploadButton]="false"
                                                    chooseLabel="Choisir pièce recto"
                                                >
                                                    <ng-template
                                                        pTemplate="header"
                                                        let-filesRecto
                                                        let-chooseCallback="chooseCallback"
                                                    >
                                                        <div
                                                            class="flex flex-wrap justify-content-between align-items-center flex-1 gap-2"
                                                        >
                                                            <p-progressBar
                                                                [value]="
                                                                    totalSizePercent
                                                                "
                                                                [showValue]="
                                                                    false
                                                                "
                                                                styleClass="md:w-20rem h-1rem w-full md:ml-auto"
                                                                [ngClass]="{
                                                                    'exceeded-progress-bar':
                                                                        totalSizePercent >
                                                                        100
                                                                }"
                                                            >
                                                                <span
                                                                    class="white-space-nowrap"
                                                                    >{{
                                                                        totalSize
                                                                    }}B /
                                                                    1Mb</span
                                                                >
                                                            </p-progressBar>
                                                        </div>
                                                    </ng-template>

                                                    <ng-template
                                                        pTemplate="content"
                                                        let-filesRecto
                                                        let-chooseCallback="chooseCallback"
                                                        let-removeFileCallback="removeFileCallback"
                                                    >
                                                        <div
                                                            *ngIf="
                                                                filesRecto?.length >
                                                                0
                                                            "
                                                        >
                                                            <div
                                                                *ngFor="
                                                                    let file of filesRecto;
                                                                    let i = index
                                                                "
                                                            >
                                                                <img
                                                                    role="presentation"
                                                                    [alt]="
                                                                        file.name
                                                                    "
                                                                    class="img-fluid"
                                                                    [src]="
                                                                        file.objectURL
                                                                    "
                                                                    style="
                                                                        position: relative;
                                                                    "
                                                                />

                                                                <button
                                                                    icon="pi pi-trash"
                                                                    class="p-button-danger buttonDeleteFileUpload"
                                                                    pButton
                                                                    pRipple
                                                                    style="
                                                                        position: absolute;
                                                                        right: 15px;
                                                                        border: none;
                                                                        padding: 10px
                                                                            10px;
                                                                        font-size: large;
                                                                    "
                                                                    (click)="
                                                                        onRemoveTemplatingFile(
                                                                            $event,
                                                                            file,
                                                                            removeFileCallback,
                                                                            i,
                                                                            'recto'
                                                                        )
                                                                    "
                                                                    [outlined]="
                                                                        true
                                                                    "
                                                                    [rounded]="
                                                                        true
                                                                    "
                                                                    pTooltip="Supprimer"
                                                                    tooltipPosition="top"
                                                                ></button>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-fileUpload>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <div class="card">
                                                <p-fileUpload
                                                    name="myfile[]"
                                                    [showCancelButton]="false"
                                                    url="https://www.primefaces.org/cdn/api/upload.php"
                                                    [multiple]="false"
                                                    accept="image/*"
                                                    maxFileSize="1000000"
                                                    (onSelect)="
                                                        onSelectedFiles(
                                                            $event,
                                                            'verso'
                                                        )
                                                    "
                                                    [showUploadButton]="false"
                                                    chooseLabel="Choisir pièce verso"
                                                >
                                                    <ng-template
                                                        pTemplate="header"
                                                        let-filesVerso
                                                        let-chooseCallback="chooseCallback"
                                                    >
                                                        <div
                                                            class="flex flex-wrap justify-content-between align-items-center flex-1 gap-2"
                                                        >
                                                            <p-progressBar
                                                                [value]="
                                                                    totalSizePercent
                                                                "
                                                                [showValue]="
                                                                    false
                                                                "
                                                                styleClass="md:w-20rem h-1rem w-full md:ml-auto"
                                                                [ngClass]="{
                                                                    'exceeded-progress-bar':
                                                                        totalSizePercent >
                                                                        100
                                                                }"
                                                            >
                                                                <span
                                                                    class="white-space-nowrap"
                                                                    >{{
                                                                        totalSize
                                                                    }}B /
                                                                    1Mb</span
                                                                >
                                                            </p-progressBar>
                                                        </div>
                                                    </ng-template>
                                                    <ng-template
                                                        pTemplate="content"
                                                        let-filesVerso
                                                        let-chooseCallback="chooseCallback"
                                                        let-removeFileCallback="removeFileCallback"
                                                    >
                                                        <div
                                                            *ngIf="
                                                                filesVerso?.length >
                                                                0
                                                            "
                                                        >
                                                            <div
                                                                *ngFor="
                                                                    let file of filesVerso;
                                                                    let i = index
                                                                "
                                                            >
                                                                <img
                                                                    role="presentation"
                                                                    [alt]="
                                                                        file.name
                                                                    "
                                                                    class="img-fluid"
                                                                    [src]="
                                                                        file.objectURL
                                                                    "
                                                                    style="
                                                                        position: relative;
                                                                    "
                                                                />

                                                                <button
                                                                    icon="pi pi-trash"
                                                                    class="p-button-danger buttonDeleteFileUpload"
                                                                    pButton
                                                                    pRipple
                                                                    style="
                                                                        position: absolute;
                                                                        right: 15px;
                                                                        border: none;
                                                                        padding: 10px
                                                                            10px;
                                                                        font-size: large;
                                                                    "
                                                                    (click)="
                                                                        onRemoveTemplatingFile(
                                                                            $event,
                                                                            file,
                                                                            removeFileCallback,
                                                                            i,
                                                                            'verso'
                                                                        )
                                                                    "
                                                                    [outlined]="
                                                                        true
                                                                    "
                                                                    [rounded]="
                                                                        true
                                                                    "
                                                                    pTooltip="Supprimer"
                                                                    tooltipPosition="top"
                                                                ></button>
                                                            </div>
                                                        </div>
                                                    </ng-template>
                                                </p-fileUpload>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </p-tabPanel>
                </p-tabView>
            </div>

            <div *ngIf="currentData?.show">
                <p-tabView
                    (onChange)="currentTabsIndex = $event.index"
                    styleClass="w-100"
                >
                    <p-tabPanel header="IDENTIFICATION">
                        <div>
                            <div class="row">
                                <div
                                    class="col-md-9"
                                    [formGroup]="adminForm"
                                    novalidate
                                >
                                    <fieldset>
                                        <legend>
                                            <b
                                                >Informations
                                                Utilisateur/Bénéficiaire</b
                                            >
                                        </legend>
                                        <div class="d-flex gap-2">
                                            <div>
                                                <div class="form-group">
                                                    <label>
                                                        <b>Type de personne</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="type_personne"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <ng-container
                                                *ngIf="
                                                    displayPhysiquePersonne ===
                                                    true
                                                "
                                            >
                                                <div>
                                                    <div class="form-group">
                                                        <label
                                                            ><b>Nom</b></label
                                                        >
                                                        <input
                                                            type="text"
                                                            formControlName="nom"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label
                                                            ><b
                                                                >Prénoms</b
                                                            ></label
                                                        >
                                                        <input
                                                            type="text"
                                                            formControlName="prenoms"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label>
                                                            <b
                                                                >Nature de la
                                                                pièce</b
                                                            >
                                                        </label>
                                                        <input
                                                            type="text"
                                                            formControlName="nature_piece"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label>
                                                            <b
                                                                >Numéro de la
                                                                pièce</b
                                                            >
                                                        </label>
                                                        <input
                                                            type="text"
                                                            formControlName="numero_piece"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                            </ng-container>
                                            <ng-container
                                                *ngIf="
                                                    displayPhysiquePersonne ===
                                                    false
                                                "
                                            >
                                                <div>
                                                    <div class="form-group">
                                                        <label
                                                            ><b
                                                                >Denomination</b
                                                            ></label
                                                        >
                                                        <input
                                                            type="text"
                                                            formControlName="nom"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label
                                                            ><b
                                                                >Raison
                                                                social</b
                                                            ></label
                                                        >
                                                        <input
                                                            type="text"
                                                            formControlName="prenoms"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label>
                                                            <b
                                                                >Nature du
                                                                document</b
                                                            >
                                                        </label>
                                                        <input
                                                            type="text"
                                                            formControlName="nature_piece"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                                <div>
                                                    <div class="form-group">
                                                        <label>
                                                            <b
                                                                >Numéro du
                                                                document</b
                                                            >
                                                        </label>
                                                        <input
                                                            type="text"
                                                            formControlName="numero_piece"
                                                            pInputText
                                                        />
                                                    </div>
                                                </div>
                                            </ng-container>
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            <b>Informations SIM</b>
                                        </legend>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>IMSI</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="imsi"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>MSISDN</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="msisdn"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Formule</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="formule"
                                                        pInputText
                                                        [pTooltip]="
                                                            currentObject?.formule
                                                        "
                                                        tooltipPosition="top"
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Statut Contrat</b>
                                                    </label>
                                                    <app-statut-contrat
                                                        [statut]="
                                                            currentObject?.statut
                                                        "
                                                    ></app-statut-contrat>
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            <b>Informations Localisation</b>
                                        </legend>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>{{
                                                            firstLevelLibelle
                                                        }}</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="niveau_un_uuid"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>{{
                                                            secondLevelLibelle
                                                        }}</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="niveau_deux_uuid"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>{{
                                                            thirdLevelLibelle
                                                        }}</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="niveau_trois_uuid"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Nom Emplacement</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="point_emplacement"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Usage</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="usage_id"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b
                                                            >Adresse mail
                                                            Notification</b
                                                        >
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="adresse_email"
                                                        pInputText
                                                        [pTooltip]="
                                                            currentObject?.adresse_email
                                                        "
                                                        tooltipPosition="top"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b
                                                            >Adresse
                                                            géographique</b
                                                        >
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="adresse_geographique"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Latitude</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="latitude"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Longitude</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="longitude"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                    <fieldset>
                                        <legend>
                                            <b>Informations Réseau</b>
                                        </legend>
                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Date Trafic</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="date_trafic"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>APN</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="apn"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Adresse IP</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="adresse_ip"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label>
                                                        <b>Site Trafic</b>
                                                    </label>
                                                    <input
                                                        type="text"
                                                        formControlName="site_reseau"
                                                        pInputText
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </fieldset>
                                </div>
                                <div
                                    class="col-md-3"
                                    [hidden]="currentTabsIndex == 1"
                                >
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="label">
                                                <b>MSISDN</b>
                                            </label>
                                            <div class="box-card">
                                                <span class="valeur">
                                                    <span>{{
                                                        getFormattedMsisdn(
                                                            currentObject?.msisdn
                                                        )
                                                    }}</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <br />
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label class="label">
                                                <b>Solde Data (Go)</b>
                                            </label>
                                            <div class="box-card">
                                                <span class="valeur">
                                                    <span>{{
                                                        currentObject?.solde_actuel_go ??
                                                            0 | formatNumber: 2
                                                    }}</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mt-3">
                                        <div class="form-group">
                                            <label class="label">
                                                <b>{{
                                                    currentObject?.solde_data_updated_at
                                                }}</b
                                                ><br />
                                            </label>
                                        </div>
                                    </div>
                                    <div
                                        class="col-md-12 mt-4"
                                        *ngIf="
                                            applicationType === patrimoineType
                                        "
                                    >
                                        <div class="form-group">
                                            <label
                                                class="label"
                                                style="
                                                    line-height: 1.3 !important;
                                                "
                                            >
                                                <b class="mt-1"
                                                    >Solde Dotation (Go)</b
                                                >
                                            </label>
                                            <div class="box-card">
                                                <span class="valeur">
                                                    <span>{{
                                                        currentObject?.solde_dotation ??
                                                            0 | formatNumber: 2
                                                    }}</span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-12 mt-3">
                                        <div
                                            class="text-center"
                                            *ngIf="
                                                currentData?.show &&
                                                currentObject?.statut ===
                                                    'actif'
                                            "
                                        >
                                            <button
                                                pButton
                                                pRipple
                                                label="Rafraîchir Solde Data"
                                                icon="pi pi-refresh"
                                                class="p-button-warning w-100"
                                                [style]="{ fontSize: '20px' }"
                                                (click)="
                                                    handleRefreshData(
                                                        currentObject
                                                    )
                                                "
                                            ></button>
                                        </div>
                                    </div>
                                    <div
                                        class="col-md-12 mt-3"
                                        *ngIf="mappingService.IsAction()"
                                    >
                                        <div
                                            *ngIf="
                                                currentData?.show &&
                                                currentObject?.statut ===
                                                    'suspendu'
                                            "
                                        >
                                            <button
                                                pButton
                                                pRipple
                                                label="Réactiver la SIM"
                                                icon="pi pi-power-off"
                                                class="p-button-success"
                                                [style]="{ fontSize: '20px' }"
                                                (click)="
                                                    onTransactionForm(
                                                        currentObject,
                                                        activation
                                                    )
                                                "
                                                style="width: 384px"
                                            ></button>
                                        </div>
                                    </div>
                                    <div
                                        class="col-md-12 mt-3"
                                        *ngIf="currentData?.show"
                                    >
                                        <img
                                            class="w-100"
                                            style="
                                                max-width: fit-content;
                                                position: absolute;
                                                left: 26%;
                                            "
                                            [src]="
                                                minioUrl + currentObject?.qrcode
                                            "
                                            alt="QR Illustration"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="PHOTOS">
                        <div>
                            <fieldset>
                                <legend><b>Pièces-Photos</b></legend>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group text-center">
                                            <ng-container
                                                class="mt-2"
                                                *ngIf="
                                                    currentData?.photo_physique;
                                                    else noImagePhysique
                                                "
                                            >
                                                <h3>Photo physique</h3>
                                                <p-image
                                                    [src]="
                                                        minioUrl +
                                                        currentData?.photo_physique
                                                    "
                                                    alt="Illustration photo physique"
                                                    style="width: 100%"
                                                    [preview]="true"
                                                ></p-image>
                                            </ng-container>
                                            <ng-template #noImagePhysique>
                                                <p>Aucune photo physique</p>
                                            </ng-template>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group text-center">
                                            <ng-container
                                                class="mt-2"
                                                *ngIf="
                                                    currentData?.photo_carte_recto;
                                                    else noImagePieceRecto
                                                "
                                            >
                                                <h3>Pièce recto</h3>
                                                <p-image
                                                    [src]="
                                                        minioUrl +
                                                        currentData?.photo_carte_recto
                                                    "
                                                    alt="Illustration pièce recto"
                                                    style="width: 100%"
                                                    [preview]="true"
                                                ></p-image>
                                            </ng-container>
                                            <ng-template #noImagePieceRecto>
                                                <p>Aucune pièce recto</p>
                                            </ng-template>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group text-center">
                                            <ng-container
                                                class="mt-2"
                                                *ngIf="
                                                    currentData?.photo_carte_verso;
                                                    else noImagePieceVerso
                                                "
                                            >
                                                <h3>Pièce verso</h3>
                                                <p-image
                                                    [src]="
                                                        minioUrl +
                                                        currentData?.photo_carte_verso
                                                    "
                                                    alt="Illustration pièce verso"
                                                    style="width: 100%"
                                                    [preview]="true"
                                                ></p-image>
                                            </ng-container>
                                            <ng-template #noImagePieceVerso>
                                                <p>Aucune pièce verso</p>
                                            </ng-template>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </p-tabPanel>
                    <p-tabPanel header="HISTORIQUE">
                        <app-historique
                            *ngIf="currentTabsIndex === 2"
                            [modele]="'sims'"
                            [modele_id]="currentData.id"
                        >
                        </app-historique>
                    </p-tabPanel>
                </p-tabView>
            </div>
        </div>
    </div>
</div>
