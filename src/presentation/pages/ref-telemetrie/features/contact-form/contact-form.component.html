<div>
    <div class="forms-feature-header">
        <div>
            <h4>
                <b *ngIf="currentObject !== undefined && !currentObject?.show">
                    <span>Modification de Contacts</span>
                    <span class="current_values"
                        >[{{ currentObject?.nom_tenant }}]</span
                    >
                </b>
                <b *ngIf="currentObject?.show">
                    <span>Visualisation de Contacts</span>
                    <span class="current_values"
                        >[{{ currentObject?.nom_tenant }}]</span
                    >
                </b>
            </h4>
        </div>
        <div
            class="forms-feature-header__button"
            [ngStyle]="{ display: 'flex', gap: '1rem' }"
        >
            <div *ngIf="!currentObject?.show">
                <p-button
                    label="Enregistrer"
                    [disabled]="!adminForm?.valid"
                    [label]="
                        currentObject === undefined
                            ? 'Enregistrer'
                            : 'Enregistrer'
                    "
                    styleClass="p-button-success"
                    (click)="handleSave()"
                ></p-button>
            </div>
            <div>
                <p-button
                    label="Fermer"
                    styleClass="p-button-danger"
                    (click)="close()"
                ></p-button>
            </div>
        </div>
    </div>
    <hr *ngIf="!currentObject?.show" />
    <!--------------------------FORMS-------------------------->
    <div *ngIf="!currentObject?.show" style="margin-top: 3rem">
        <div [formGroup]="adminForm">
            <fieldset>
                <legend>
                    <b>Informations Client</b>
                </legend>
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label><b>Nom du client </b></label>
                            <input
                                type="text"
                                pInputText
                                formControlName="nom_tenant"
                            />
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>
                                <b>Adresse<span class="text-danger">*</span></b>
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="adresse"
                            />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>
                                <b>Compte client</b>
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="compte_client"
                            />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>Email diffusion</b>
                            </label>
                            <input
                                type="email"
                                formControlName="email_diffusion_tenant"
                                pInputText
                            />
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Informations Phone manager</b>
                </legend>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>Nom<span class="text-danger">*</span></b>
                            </label>
                            <p-dropdown
                                [options]="listUsers"
                                formControlName="gestionnaire_tenant_id"
                                optionLabel="fullName"
                                [filter]="true"
                                filterBy="nom"
                                [showClear]="true"
                                optionValue="id"
                                placeholder="Gestionnaire"
                            >
                                <ng-template let-data pTemplate="item">
                                    <div class="country-item">
                                        <div>{{ data.fullName }}</div>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b>Contact<span class="text-danger">*</span></b>
                        </label>
                        <input
                            type="text"
                            pInputText
                            formControlName="contact_gestionnaire_tenant"
                        />
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b>Email<span class="text-danger">*</span></b>
                        </label>
                        <input
                            type="email"
                            pInputText
                            formControlName="email_gestionnaire_tenant"
                        />
                    </div>
                    <!-- <div class="col-md-3">
                        <label>
                            <b>Nom de connexion<span class="text-danger">*</span></b>
                        </label>
                        <input type="text" pInputText formControlName="username_gestionnaire_tenant" />
                    </div> -->
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Informations Administrateur</b>
                </legend>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>Nom<span class="text-danger">*</span></b>
                            </label>
                            <p-dropdown
                                [options]="listUsers"
                                formControlName="admin_tenant_id"
                                optionLabel="fullName"
                                [filter]="true"
                                filterBy="nom"
                                [showClear]="true"
                                placeholder="Administrateur"
                                optionValue="id"
                                [placeholder]="'Escaldae'"
                            >
                                <ng-template let-data pTemplate="item">
                                    <div class="country-item">
                                        <div>{{ data.fullName }}</div>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b>Contact<span class="text-danger">*</span></b>
                        </label>
                        <input
                            type="text"
                            pInputText
                            formControlName="contact_admin_tenant"
                        />
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b>Email<span class="text-danger">*</span></b>
                        </label>
                        <input
                            type="email"
                            pInputText
                            formControlName="email_admin_tenant"
                        />
                    </div>
                    <!-- <div class="col-md-3">
                        <label>
                            <b>Nom de connexion<span class="text-danger">*</span></b>
                        </label>
                        <input type="text" pInputText formControlName="username_admin_tenant" />
                    </div> -->
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Informations Escalade</b>
                </legend>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>Nom<span class="text-danger">*</span></b>
                            </label>
                            <p-dropdown
                                [options]="listUsers"
                                formControlName="escalade_tenant_id"
                                optionLabel="fullName"
                                [filter]="true"
                                filterBy="nom"
                                [showClear]="true"
                                placeholder="Escaldae"
                                optionValue="id"
                                [placeholder]="'Escaldae'"
                            >
                                <ng-template let-data pTemplate="item">
                                    <div class="country-item">
                                        <div>{{ data.fullName }}</div>
                                    </div>
                                </ng-template>
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b
                                >Contact Escalade<span class="text-danger"
                                    >*</span
                                ></b
                            >
                        </label>
                        <input
                            type="text"
                            pInputText
                            formControlName="contact_escalade_tenant"
                        />
                    </div>
                    <div class="col-md-4">
                        <label>
                            <b
                                >Email Escalade<span class="text-danger"
                                    >*</span
                                ></b
                            >
                        </label>
                        <input
                            type="email"
                            pInputText
                            formControlName="email_escalade_tenant"
                        />
                    </div>
                    <!-- <div class="col-md-3">
                        <label>
                            <b>Nom de connexion<span class="text-danger">*</span></b>
                        </label>
                        <input type="text" pInputText formControlName="username_escalade_tenant" />
                    </div> -->
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Informations Gérant</b>
                </legend>
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>
                                <b>Nom<span class="text-danger">*</span></b>
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="nom_gerant"
                            />
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>
                                <b>Contact<span class="text-danger">*</span></b>
                            </label>
                            <input
                                type="text"
                                formControlName="contact_gerant"
                                pInputText
                            />
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group">
                            <label>
                                <b>Email<span class="text-danger">*</span></b>
                            </label>
                            <input
                                type="email"
                                formControlName="email_gerant"
                                pInputText
                            />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>Pièce d'identité</b>
                            </label>
                            <div
                                class="d-flex justify-content-around align-items-center container-button-telecharger"
                            >
                                <div *ngIf="currentObject?.['piece_gerant']">
                                    <button
                                        pButton
                                        pRipple
                                        label="Voir"
                                        icon="pi pi-eye"
                                        class="p-button-dark"
                                        (click)="openModal('piece_gerant')"
                                    ></button>
                                </div>
                                <div>
                                    <input
                                        type="file"
                                        style="
                                            padding: 0.6rem;
                                            border: 1px solid #000;
                                            border-radius: 0.3rem;
                                            color: #000;
                                        "
                                        (change)="
                                            onChangeFile(
                                                $event.target.files,
                                                'piece_gerant'
                                            )
                                        "
                                        accept="image/png,image/jpeg"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Déclaration Morale</b>
                </legend>
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>
                                <b
                                    >Numéro RCCM<span class="text-danger"
                                        >*</span
                                    ></b
                                >
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="numero_rccm"
                            />
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label
                                ><b
                                    >Forme juridique<span class="text-danger"
                                        >*</span
                                    ></b
                                ></label
                            >
                            <p-dropdown
                                [options]="listFormeJuridique"
                                optionLabel="nom"
                                optionValue="code"
                                placeholder="Selectionnez la forme"
                                emptyFilterMessage="Aucune correspondance"
                                emptyMessage="Aucune donnée"
                                formControlName="form_juridique_code"
                            >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>RCCM</b>
                            </label>
                            <div
                                class="d-flex justify-content-around align-items-center container-button-telecharger"
                            >
                                <div *ngIf="currentObject?.['fichier_rccm']">
                                    <button
                                        pButton
                                        pRipple
                                        label="Voir"
                                        icon="pi pi-eye"
                                        class="p-button-dark"
                                        (click)="openModal('fichier_rccm')"
                                    ></button>
                                </div>
                                <div>
                                    <input
                                        type="file"
                                        style="
                                            padding: 0.6rem;
                                            border: 1px solid #000;
                                            border-radius: 0.3rem;
                                            color: #000;
                                        "
                                        (change)="
                                            onChangeFile(
                                                $event.target.files,
                                                'fichier_rccm'
                                            )
                                        "
                                        accept="image/png,image/jpeg"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
            <fieldset>
                <legend>
                    <b>Declaration Fiscale</b>
                </legend>
                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>
                                <b
                                    >Numéro CC<span class="text-danger"
                                        >*</span
                                    ></b
                                >
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="numero_cc"
                            />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label
                                ><b
                                    >Régime<span class="text-danger">*</span></b
                                ></label
                            >
                            <p-dropdown
                                [options]="listRegimesEntreprise"
                                optionLabel="nom"
                                optionValue="code"
                                placeholder="Selectionnez la forme"
                                formControlName="regime_code"
                                emptyFilterMessage="Aucune correspondance"
                                emptyMessage="Aucune donnée"
                            >
                            </p-dropdown>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <label>
                                <b>Centre<span class="text-danger">*</span></b>
                            </label>
                            <input
                                type="text"
                                pInputText
                                formControlName="centre"
                            />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>
                                <b>DFE</b>
                            </label>
                            <div
                                class="d-flex justify-content-around align-items-center container-button-telecharger"
                            >
                                <div *ngIf="currentObject?.['fichier_dfe']">
                                    <button
                                        pButton
                                        pRipple
                                        label="Voir"
                                        icon="pi pi-eye"
                                        class="p-button-dark"
                                        (click)="openModal('fichier_dfe')"
                                    ></button>
                                </div>
                                <div>
                                    <input
                                        type="file"
                                        style="
                                            padding: 0.6rem;
                                            border: 1px solid #000;
                                            border-radius: 0.3rem;
                                            color: #000;
                                        "
                                        (change)="
                                            onChangeFile(
                                                $event.target.files,
                                                'fichier_dfe'
                                            )
                                        "
                                        accept="image/png,image/jpeg"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
        <div class="forms-feature-footer">
            <p-button
                label="Enregistrer"
                [disabled]="!adminForm?.valid"
                [label]="
                    currentObject === undefined ? 'Enregistrer' : 'Enregistrer'
                "
                styleClass="p-button-success"
                (click)="handleSave()"
            ></p-button>
        </div>
    </div>
</div>
